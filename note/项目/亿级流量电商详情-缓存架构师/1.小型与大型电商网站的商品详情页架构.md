### 1.小型电商详情页架构

小型电商详情页一般采用的是页面静态化解决方案，例如：velocity，freemarker。

**缺陷：**

如果商品后台管理系统需要对商品进行修改，需要重新生成一套新的静态化页面，然后将静态页面推送到nginx服务器。访问的时候直接访问生成的html。

如果定义的商品详情页模型发生了改变，需要将所有的商品查出来然后重新生成新的html文件，这个工作量非常大。

### 2.大型电商详情页架构

![](F:\__study__\hulianwang\study\note\项目\亿级流量电商详情-缓存架构师\img\大型电商架构.png)

- 首先将各个模块进行拆分出来，形成微服务
- 如果商品管理系统需要修改了id=1的商品价格，将id=1发送到MQ里面，缓存系统从MQ里面获取id=1的商品详细信息。
- 现在用户访问新修改的商品时，nginx先从本地缓存中查找，如果已经被更新，则从redis中获取新的商品信息。
- 将获取到的数据然后渲染到页面中。





